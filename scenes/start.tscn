[gd_scene load_steps=21 format=3 uid="uid://j6mlkjf3oagj"]

[ext_resource type="Environment" uid="uid://5j164u68na1t" path="res://styles/world.tres" id="1_q3mxp"]
[ext_resource type="Script" path="res://scripts/game_loop.gd" id="2_qdbgh"]
[ext_resource type="ArrayMesh" uid="uid://c7aq7q21o46cu" path="res://models/chip_0.obj" id="4_a6bmg"]
[ext_resource type="Texture2D" uid="uid://c4rkmujis3gd1" path="res://materials/chip_0_uv.png" id="5_23xt5"]
[ext_resource type="Script" path="res://scripts/floor_handler.gd" id="6_d4cnl"]
[ext_resource type="StyleBox" uid="uid://c6jjixbxfis8q" path="res://styles/button_hover.tres" id="7_qc84r"]
[ext_resource type="StyleBox" uid="uid://p7nv04qdasuf" path="res://styles/button_pressed.tres" id="8_g7wm6"]
[ext_resource type="StyleBox" uid="uid://ba6m5ystp3ldt" path="res://styles/button_normal.tres" id="9_7fm0n"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_koy1u"]
albedo_texture = ExtResource("5_23xt5")

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_ofb4t"]
points = PackedVector3Array(-1.3928, -0.35281, -4.19624, -2.93818, -0.35281, -3.30409, -1.3928, 0, -4.19624, 1.39195, -0.35281, -4.19624, -4.33013, -0.35281, -0.892975, -2.93818, 0, -3.30409, 1.39195, 0, -4.19624, 2.93733, -0.35281, -3.30409, -4.33013, 0, -0.892975, -4.33013, -0.35281, 0.892154, 2.93733, 0, -3.30409, 4.33013, -0.35281, -0.892975, -4.33013, 0, 0.892154, -2.93818, -0.35281, 3.30327, 4.33013, 0, -0.892975, 4.33013, -0.35281, 0.892154, -2.93818, 0, 3.30327, -1.3928, -0.35281, 4.19624, 4.33013, 0, 0.892154, 2.93733, -0.35281, 3.30327, -1.3928, 0, 4.19624, 1.39195, -0.35281, 4.19624, 2.93733, 0, 3.30327, 1.39195, 0, 4.19624)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_kghrh"]
points = PackedVector3Array(2.89175, 7.07738, 3.50237, 0.03529, -3.07738, 3.50237, 0.03529, -3.07738, 4.29572, 3.20927, -3.07738, 3.18497, 0.03529, 7.07738, 3.50237, 1.62228, 7.07738, 4.29572, 2.25702, 7.07738, 2.86743, 1.62228, -3.07738, 4.29572, 2.25702, -3.07738, 2.86743, 0.03529, 7.07738, 4.29572, 3.18314, 6.99376, 2.87919, 2.73299, -3.07738, 3.66079, 3.18314, -2.99376, 2.87919, 3.20927, 7.07738, 3.18497, 2.73299, 7.07738, 3.66079)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_tprx7"]
points = PackedVector3Array(4.47942, -3.07738, 0.962872, 3.3687, 7.07738, 2.86729, 2.41593, 7.07738, 2.86729, 3.68562, 7.07738, 0.169144, 2.41593, -3.07738, 2.70855, 3.68562, -3.07738, 0.169144, 4.47942, 7.07738, 0.169144, 3.3687, -3.07738, 2.86729, 4.47942, 7.07738, 0.962872, 4.47942, -3.07738, 0.169144, 3.52665, 7.07738, 2.70855, 2.41593, 7.07738, 2.70855, 2.41593, -3.07738, 2.86729, 4.1617, -3.07738, 1.59733, 3.52665, -3.07738, 2.70855, 4.1617, 7.07738, 1.59733)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_dcg7l"]
points = PackedVector3Array(3.52704, -3.07738, -2.68787, 4.47942, 7.07738, 0.16888, 3.68571, 7.07738, 0.16888, 3.36837, 7.07738, -2.84699, 2.57466, -3.07738, -2.52935, 4.47942, -3.07738, 0.16888, 2.57466, 7.07738, -2.52935, 4.47942, 7.07738, -0.942589, 3.68571, -3.07738, 0.16888, 4.47942, -3.07738, -0.942589, 2.64603, -2.69689, -2.73399, 4.16171, 7.07738, -1.5767, 3.36837, -3.07738, -2.84699, 2.64603, 6.69689, -2.73399, 3.52704, 7.07738, -2.68787, 4.16171, -3.07738, -1.5767)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_50r3t"]
points = PackedVector3Array(3.20927, 7.07738, -3.16464, 0.03529, -3.07738, -4.27543, 0.03529, -3.07738, -3.64055, 0.03529, 7.07738, -4.27543, 1.93949, -3.07738, -4.1166, 3.18509, -3, -2.85802, 2.25702, 7.07738, -2.84713, 1.62228, 7.07738, -4.27543, 0.03529, 7.07738, -3.64055, 3.05051, -3.07738, -3.48201, 2.25702, -3.07738, -2.84713, 3.05051, 7.07738, -3.48201, 3.18509, 7, -2.85802, 1.62228, -3.07738, -4.27543, 3.20927, -3.07738, -3.16464, 1.93949, 7.07738, -4.1166)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_hfeh6"]
points = PackedVector3Array(-1.55201, 7.07738, 4.29572, -2.50421, -3.07738, 2.86743, -2.50421, -3.07738, 3.66079, 0.0344824, -3.07738, 4.29572, 0.0344824, 7.07738, 3.50237, -2.50421, 7.07738, 2.86743, 0.0344824, -3.07738, 3.50237, 0.0344824, 7.07738, 4.29572, -1.55201, -3.07738, 4.29572, -2.50421, 7.07738, 3.66079, -2.18681, -3.07738, 2.86743, -2.18681, 7.07738, 2.86743, -2.18681, -3.07738, 3.97819, -2.18681, 7.07738, 3.97819)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_hftvx"]
points = PackedVector3Array(-4.25044, -3.07738, 1.43909, -2.57601, 6.69819, 3.51277, -2.66373, 7.07738, 3.66094, -3.7743, 7.07738, -0.307311, -2.50489, -3.07738, 2.54963, -4.40947, 7.07738, 1.12135, -3.7743, -3.07738, -0.307311, -2.98103, -3.07738, 3.50207, -4.3301, -2.65422, -0.141951, -2.50489, 7.07738, 2.54963, -3.13987, 7.07738, 3.3432, -4.3301, 6.65422, -0.141951, -2.66373, -3.07738, 3.66094, -4.40947, -3.07738, 1.12135, -3.13987, -3.07738, 3.3432, -3.61564, 7.07738, 2.54963, -2.57601, -2.6982, 3.51277, -2.98103, 7.07738, 3.50207, -4.25044, 7.07738, 1.43909, -3.61564, -3.07738, 2.54963)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_0sj6y"]
points = PackedVector3Array(-3.29852, -3.07738, -2.84699, -3.7743, 7.07738, -0.307311, -4.3301, 6.65422, -0.413142, -2.50489, 7.07738, -2.84699, -3.7743, -3.07738, -0.307311, -2.50489, -3.07738, -2.68789, -3.61564, 7.07738, -2.52904, -4.40947, -3.07738, -1.10133, -4.40947, 7.07738, -1.10133, -4.3301, -2.65422, -0.413142, -2.98103, 7.07738, -1.73551, -3.29852, 7.07738, -2.84699, -3.61564, -3.07738, -2.52904, -2.50489, -3.07738, -2.84699, -4.09179, -3.07738, -1.73551, -2.50489, 7.07738, -2.68789, -2.98103, -3.07738, -1.73551, -4.09179, 7.07738, -1.73551)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_bi1dt"]
points = PackedVector3Array(-1.5524, 7.07738, -4.27543, -3.29835, -3.07738, -3.00596, -3.16986, -2.68592, -2.90219, 0.0349793, -3.07738, -4.27543, 0.0349793, 7.07738, -3.64055, -3.29835, 7.07738, -3.00596, -2.18703, -3.07738, -2.84713, -1.5524, -3.07738, -4.27543, 0.0349793, -3.07738, -3.64055, -2.18703, 7.07738, -2.84713, 0.0349793, 7.07738, -4.27543, -2.98055, 7.07738, -3.48201, -2.5045, -3.07738, -3.79923, -3.13945, -3.07738, -3.32332, -3.16986, 6.68592, -2.90219, -2.5045, 7.07738, -3.79923, -3.13945, 7.07738, -3.32332, -2.98055, -3.07738, -3.48201)

[sub_resource type="SystemFont" id="SystemFont_wrxpf"]
subpixel_positioning = 0

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_hgccq"]

[node name="start" type="WorldEnvironment"]
environment = ExtResource("1_q3mxp")
script = ExtResource("2_qdbgh")

[node name="Timer" type="Timer" parent="."]
process_callback = 0
wait_time = 0.5
autostart = true

[node name="cam_gimball" type="Node3D" parent="."]

[node name="Camera3D" type="Camera3D" parent="cam_gimball"]
transform = Transform3D(1, 0, 0, 0, 0.642788, 0.766044, 0, -0.766044, 0.642788, 0, 30, 16)
projection = 1
current = true
size = 50.0
near = 0.001

[node name="floor" type="Node3D" parent="."]

[node name="Floor" type="MeshInstance3D" parent="floor" groups=["floors"]]
transform = Transform3D(1.5, 0, 0, 0, 1.5, 0, 0, 0, 1.5, 0, 0, 0)
mesh = ExtResource("4_a6bmg")
skeleton = NodePath("../..")
surface_material_override/0 = SubResource("StandardMaterial3D_koy1u")

[node name="rigidbody" type="RigidBody3D" parent="floor/Floor"]

[node name="FloorBody3D" type="StaticBody3D" parent="floor"]
transform = Transform3D(0.6, 0, 0, 0, 0.6, 0, 0, 0, 0.6, 0, 0, 0)
disable_mode = 1
axis_lock_linear_x = true
axis_lock_linear_y = true
axis_lock_linear_z = true
axis_lock_angular_x = true
axis_lock_angular_y = true
axis_lock_angular_z = true

[node name="CollisionShape3D" type="CollisionShape3D" parent="floor/FloorBody3D"]
transform = Transform3D(2.5, 0, 0, 0, 2.5, 0, 0, 0, 2.5, 0, 0, 0)
shape = SubResource("ConvexPolygonShape3D_ofb4t")

[node name="WallBody3D" type="StaticBody3D" parent="floor"]
transform = Transform3D(0.665, 0, 0, 0, 0.665, 0, 0, 0, 0.665, 0, 0.05, 0)
collision_layer = 4

[node name="CollisionShape3D8" type="CollisionShape3D" parent="floor/WallBody3D"]
transform = Transform3D(2.52101, 0, 0, 0, 2.52101, 0, 0, 0, 2.52101, 0, -0.0840336, 0)
shape = SubResource("ConvexPolygonShape3D_kghrh")

[node name="CollisionShape3D7" type="CollisionShape3D" parent="floor/WallBody3D"]
transform = Transform3D(2.52101, 0, 0, 0, 2.52101, 0, 0, 0, 2.52101, 0, -0.0840336, 0)
shape = SubResource("ConvexPolygonShape3D_tprx7")

[node name="CollisionShape3D6" type="CollisionShape3D" parent="floor/WallBody3D"]
transform = Transform3D(2.52101, 0, 0, 0, 2.52101, 0, 0, 0, 2.52101, 0, -0.0840336, 0)
shape = SubResource("ConvexPolygonShape3D_dcg7l")

[node name="CollisionShape3D5" type="CollisionShape3D" parent="floor/WallBody3D"]
transform = Transform3D(2.52101, 0, 0, 0, 2.52101, 0, 0, 0, 2.52101, 0, -0.0840336, 0)
shape = SubResource("ConvexPolygonShape3D_50r3t")

[node name="CollisionShape3D4" type="CollisionShape3D" parent="floor/WallBody3D"]
transform = Transform3D(2.52101, 0, 0, 0, 2.52101, 0, 0, 0, 2.52101, 0, -0.0840336, 0)
shape = SubResource("ConvexPolygonShape3D_hfeh6")

[node name="CollisionShape3D3" type="CollisionShape3D" parent="floor/WallBody3D"]
transform = Transform3D(2.52101, 0, 0, 0, 2.52101, 0, 0, 0, 2.52101, 0, -0.0840336, 0)
shape = SubResource("ConvexPolygonShape3D_hftvx")

[node name="CollisionShape3D2" type="CollisionShape3D" parent="floor/WallBody3D"]
transform = Transform3D(2.52101, 0, 0, 0, 2.52101, 0, 0, 0, 2.52101, 0, -0.0840336, 0)
shape = SubResource("ConvexPolygonShape3D_0sj6y")

[node name="CollisionShape3D" type="CollisionShape3D" parent="floor/WallBody3D"]
transform = Transform3D(2.52101, 0, 0, 0, 2.52101, 0, 0, 0, 2.52101, 0, -0.0840336, 0)
shape = SubResource("ConvexPolygonShape3D_bi1dt")

[node name="CollisionShape3D9" type="CollisionShape3D" parent="floor/WallBody3D"]
transform = Transform3D(-1.10197e-07, 0, 2.52101, 0, 2.52101, 0, -2.52101, 0, -1.10197e-07, 0, -0.0840336, 0)
shape = SubResource("ConvexPolygonShape3D_kghrh")

[node name="CollisionShape3D10" type="CollisionShape3D" parent="floor/WallBody3D"]
transform = Transform3D(-1.10197e-07, 0, 2.52101, 0, 2.52101, 0, -2.52101, 0, -1.10197e-07, 0, -0.0840336, 0)
shape = SubResource("ConvexPolygonShape3D_tprx7")

[node name="CollisionShape3D11" type="CollisionShape3D" parent="floor/WallBody3D"]
transform = Transform3D(-1.10197e-07, 0, 2.52101, 0, 2.52101, 0, -2.52101, 0, -1.10197e-07, 0, -0.0840336, 0)
shape = SubResource("ConvexPolygonShape3D_dcg7l")

[node name="CollisionShape3D12" type="CollisionShape3D" parent="floor/WallBody3D"]
transform = Transform3D(-1.10197e-07, 0, 2.52101, 0, 2.52101, 0, -2.52101, 0, -1.10197e-07, 0, -0.0840336, 0)
shape = SubResource("ConvexPolygonShape3D_50r3t")

[node name="CollisionShape3D13" type="CollisionShape3D" parent="floor/WallBody3D"]
transform = Transform3D(-1.10197e-07, 0, 2.52101, 0, 2.52101, 0, -2.52101, 0, -1.10197e-07, 0, -0.0840336, 0)
shape = SubResource("ConvexPolygonShape3D_hfeh6")

[node name="CollisionShape3D14" type="CollisionShape3D" parent="floor/WallBody3D"]
transform = Transform3D(-1.10197e-07, 0, 2.52101, 0, 2.52101, 0, -2.52101, 0, -1.10197e-07, 0, -0.0840336, 0)
shape = SubResource("ConvexPolygonShape3D_hftvx")

[node name="CollisionShape3D15" type="CollisionShape3D" parent="floor/WallBody3D"]
transform = Transform3D(-1.10197e-07, 0, 2.52101, 0, 2.52101, 0, -2.52101, 0, -1.10197e-07, 0, -0.0840336, 0)
shape = SubResource("ConvexPolygonShape3D_0sj6y")

[node name="CollisionShape3D16" type="CollisionShape3D" parent="floor/WallBody3D"]
transform = Transform3D(-1.10197e-07, 0, 2.52101, 0, 2.52101, 0, -2.52101, 0, -1.10197e-07, 0, -0.0840336, 0)
shape = SubResource("ConvexPolygonShape3D_bi1dt")

[node name="floor_spawn_point" type="Node3D" parent="." groups=["spawners"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 30, 0)
script = ExtResource("6_d4cnl")

[node name="HUD" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="game_start_screen" type="Control" parent="HUD"]
layout_direction = 1
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
grow_horizontal = 2
grow_vertical = 2

[node name="game_title" type="RichTextLabel" parent="HUD/game_start_screen"]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -274.5
offset_top = -165.0
offset_right = 274.5
offset_bottom = -27.0
grow_horizontal = 2
grow_vertical = 0
theme_override_fonts/normal_font = SubResource("SystemFont_wrxpf")
theme_override_font_sizes/normal_font_size = 50
theme_override_font_sizes/bold_font_size = 60
bbcode_enabled = true
text = "[center][b]FALLING CASINO"
fit_content = true
scroll_active = false
autowrap_mode = 2
deselect_on_focus_loss_enabled = false
drag_and_drop_selection_enabled = false
language = "en"

[node name="message" type="RichTextLabel" parent="HUD/game_start_screen"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -274.5
offset_top = -69.0
offset_right = 274.5
offset_bottom = 69.0
grow_horizontal = 2
grow_vertical = 2
theme_override_fonts/normal_font = SubResource("SystemFont_wrxpf")
theme_override_font_sizes/normal_font_size = 50
bbcode_enabled = true
text = "[center]Avoid getting hit by the chips!!"
fit_content = true
scroll_active = false
autowrap_mode = 2
deselect_on_focus_loss_enabled = false
drag_and_drop_selection_enabled = false
language = "en"

[node name="play" type="Button" parent="HUD/game_start_screen"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -112.5
offset_top = 146.0
offset_right = 112.5
offset_bottom = 221.0
grow_horizontal = 2
grow_vertical = 2
theme_override_font_sizes/font_size = 50
theme_override_styles/hover = ExtResource("7_qc84r")
theme_override_styles/pressed = ExtResource("8_g7wm6")
theme_override_styles/normal = ExtResource("9_7fm0n")
action_mode = 0
text = "PLAY
"

[node name="background" type="Sprite2D" parent="HUD/game_start_screen/play"]
modulate = Color(1, 1, 1, 0.25098)
scale = Vector2(0.5, 0.5)
texture = SubResource("CompressedTexture2D_hgccq")

[connection signal="pressed" from="HUD/game_start_screen/play" to="." method="_on_play_pressed"]
